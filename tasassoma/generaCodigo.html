<!doctype html>
<html lang="es">      

                <!----------------------- *** Inicio de la Cabecera ***   ----------------------->
    <head>
        <meta http-equiv="Expires" content="0">
        <meta http-equiv="Last-Modified" content="0">
        <meta http-equiv="Cache-Control" content="no-cache, mustrevalidate">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <link rel="shortcut icon" href="images/iconos/favicon.ico" type="image/x-icon"/> 
        <meta name="author" content="Visualsat Peru">        
        <title>SSOMA</title>
        <!-- css estaticos -->
        <link href="modules/bootstrap-4.4.1/dist/css/bootstrap.min.css" rel="stylesheet" >
        <link rel="stylesheet" href="modules/bootstrap-sweetalert-master/dist/sweetalert.css" rel="stylesheet">
        <link href="css/loadingEffect.css" rel="stylesheet" >
        <!-- dinamico -->
        <link href="css/visitasa.css" rel="stylesheet" >
        <link href="css/crearAuditorias.css" rel="stylesheet" >
        <link rel="stylesheet" href="view/ssoma/ssoma.css">
        <link rel="stylesheet" href="css/pagination.css">
        <link rel="stylesheet" href="css/auditorLiderList.css">
            <!-- style staticos {-->
    <!-- Libreria INTERNA Proyecto --><link href="css/loadingEffect.css" rel="stylesheet">
    
    <!-- Libreria BOOTSTRAP Terceros Web --><link rel="stylesheet" href="modules/bootstrap-sweetalert-master/dist/sweetalert.css" rel="stylesheet">
    <!-- Libreria DROPZONE Terceros Web --><link rel="stylesheet" href="modules/dropzone-5.7.0/dist/dropzone.css">               
    <!-- Libreria FONTAWESOME Terceros Web --><link href="modules/fontawesome/css/fontawesome.css" rel="stylesheet">
    <!-- Libreria FONTAWESOME Terceros Web --><link href="modules/fontawesome/css/brands.css" rel="stylesheet">
    <!-- Libreria FONTAWESOME Terceros Web --><link href="modules/fontawesome/css/solid.css" rel="stylesheet">  
    <!-- Libreria JQUERY Terceros Web --><link href="modules/DataTables/datatables.min.css" rel="stylesheet"> 
    <!-- Libreria JQUERY Terceros Web --><link href="modules/DataTables/Responsive-2.2.3/css/responsive.bootstrap.min.css" rel="stylesheet">
    <!-- Libreria JQUERY Terceros Web --><link href="modules/DataTables/Buttons-1.6.1/css/buttons.dataTables.min.css" rel="stylesheet">

    <!-- Libreria JQUERY Terceros Web --><link href="modules/jquery-ui-1.12.1/jquery-ui.min.css" rel="stylesheet">
    <!-- Libreria JQUERY Terceros Web --><link rel="stylesheet" href="modules/bootstrap-toggle/css/bootstrap4-toggle.min.css" rel="stylesheet">    
    <!-- Libreria ROBOTO Terceros Web --><link rel="stylesheet" href="modules/mterialiconRoboto.css">
    <!-- Libreria BOOTSTRAP Terceros Web --><link rel="stylesheet" href="modules/bootstrap-material-design-master/assets/css/docs.css">
    <!-- Libreria DROPIFY Terceros Web --><link rel="stylesheet" href="modules/dropify/dist/css/dropify.css">
    <!-- style staticos }-->
   
    <!-- @Andy CSS-->
    <link href="modules/bootstrap-4.4.1/dist/css/bootstrap.min.css" rel="stylesheet" >
    <Link href="./css/crearAuditorias.css" rel="stylesheet">
    <Link href="./css/crearProgramas.css" rel="stylesheet">
    <link href="modules/paginatejs/css/ligne.css" rel="stylesheet">
    <link href="modules/paginatejs/css/paginate.css" rel="stylesheet">
    <!-- @Andy CSS-->


    <!-- style dinamicos {-->
    <link href="css/visitasa.css" rel="stylesheet">
    <link href="css/auditoria.css" rel="stylesheet">
    <link href="css/auditorList.css" rel="stylesheet">
    <link href="css/menu.css" rel="stylesheet">
      <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
      <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
        

        
               <!-- //------------------bloque codigo-----------------------#@andy---------------------------------------------// -->
                  <!----------------------- estilos estaticos de este arhivo ----------------------->
         <style>
               
            .padre {

                display: flex !important;
                justify-content: center !important;
                align-items: center !important;
                background:#fff url('images/fondologin.jpg') no-repeat center center  ; min-height:100%;
                background-attachment: fixed;
                background-size: cover;
				        background:#C1C1C1;
            }

            .olvidaste-tu-contra {
                width: 168px;
                height: 17px;
                font-family: ProductSans;
                font-size: 14px;
                font-weight: bold;
                font-stretch: normal;
                font-style: normal;
                line-height: normal;
                letter-spacing: normal;
                color: #51b499;
            }
            
            #tx_login_usuario{

                background-color: white;
                background-image: url('images/iconos/iconUser.svg');
                background-position:330px;
                background-repeat: no-repeat;
                padding-left: 40px;
                }

                #tx_login_password{

                background-color: white;
                background-image: url('images/iconos/iconPass.svg');
                background-position:330px;
                background-repeat: no-repeat;
                padding-left: 40px;
                }
            
            #barra_superior{
                background-color:#34559c;
                height: 77px;
            }

            .lbBienvenido {
                
                height: 24px;
                font-size: 24.3px;
                font-weight: normal;
                font-stretch: normal;
                font-style: normal;
                line-height: 1;
                letter-spacing: 0.15px;
                color: #000000;
                }
				
				
    ul.ui-autocomplete.ui-menu { width: 400px !important; }

    #sel_procesoPlan{
        height: 24px;
        background-color: white;
        cursor: pointer;
    }

    #sel_procesoPlan:hover{
        height: 124px;
        background-color: white;
        cursor: pointer;
    }


    .txtAreaLista{
         border-radius: 4px;
        -moz-border-radius: 4px;
        -webkit-border-radius: 4px;
        -o-border-radius: 4px;
        background: #F2F2F2;
        background: linear-gradient(left, #F2F2F2, #F2F2F2);
        background: -moz-linear-gradient(left, #F2F2F2, #F2F2F2);
        background: -webkit-linear-gradient(left, #F2F2F2, #F2F2F2);
        background: -o-linear-gradient(left, #F2F2F2, #F2F2F2);
        width: 100%;
        height: 80%;
        border-color:#F2F2F2;
        resize: none;
    }

    .btEnviarEval{

      width: 139px;
      height: 18px;
      font-family: ProductSans;
      font-size: 16px;
      font-weight: normal;
      font-stretch: normal;
      font-style: normal;
      line-height: 1.39;
      letter-spacing: 0.44px;
      text-align: center;
      color: #ffffff;
    }

   


   

    input[type="time"]::-webkit-calendar-picker-indicator 
    {
        filter: invert(48%) sepia(13%) saturate(3207%) hue-rotate(130deg) brightness(95%) contrast(80%);
        cursor:pointer;
    }
           
         </style>

                  <!----------------------- estilos estaticos de este arhivo ----------------------->

    </head> 
                <!----------------------- *** Fin de la Cabecera ***   ----------------------->











                <!----------------------- *** Inicio de la Cuerpo de la Pagina ***   ----------------------->           
    
     <body class="text-center" id="body_index"  >

                <!----------------------------- barra superior ----------------------------------------------> 
                        <!-- <div id = "barra_superior"  class="row justify-content-center" >
                            <img  class=" float-top" src="images/iconos/iconTasa.svg"  >
                        </div> -->
                <!------------------------------ barra superior ---------------------------------------------->




                
                <!----------------------- *** Inicio Capa Padre ***   ----------------------->
                   <div class="padre"> 
                        
                        <div id="divPreviewEval" style="width: 1300px; padding: 30px 30px !important;" class="divPreviewEval alert overflow-auto text-left" >
                            
                         <!--  <div style="text-align: center;">Generando Evaluación  ..   <img  class=" float-top text-center" src="images/iconos/loadingAdj.gif"  ></div> -->
                         <!-- <form action="" > -->
                         <table width="100%" border = '0'>
                             <tr>
                                   <td width="100%" colspan="3">
                                               
                                              <div style="width:100%; height: 39px; border-radius: 4px; background-color: #99b839; color: #fff; padding-top: 10px;">

                                                    <table width="100%" border="0" style="margin-top: -1px;">
                                                      <tbody><tr>
                                                       <td width="1%">&nbsp;</td>
                                                        <td width="30%">
                                                            <p style="  margin-left: 0px; font-size: 17px; font-weight: bold; color: #fff; font-weight: 500;font-stretch: normal; font-style: normal; line-height: 1.45;letter-spacing: 0.15px;">
                                                              Generador de Codigos YANDY!</p>

                                                        </td>
                                                        <td width="66%"></td>
                                                        <td width="1%">
                                                          <img src="./images/iconos/menu1.svg" style="margin-top: -17px; !important;"></td>
                                                        <td width="1%"></td>
                                                      </tr>
                                                 </tbody></table>
                                          </div>
                                    </td>
                             </tr>


                             <tr> <td width="100%" colspan="3">&nbsp;</td></tr>

                             <tr>
                                   <td width="53%">
                                          <div class="form-group col-12 border text-left" id="divBordeDG_15_1k" style="height: 73px;  margin:0   px 0px 6px !important; border-color:#DEE2E6 !important; padding: 10px 0px !important;">
                                                  <label for="objetivo" class="label label-caja" style="font-size: 16px !important; font-weight: bold; color: green;">Nombre de la Clase JS - C# - SQL
                                                  </label>

                                                    <input id="txt_1" name="txt_1"  type="text" style="padding: 18px !important; font-size: 13px !important; text-align: left !important;" class="form-control text-left " >

                                            </div>
                                   </td>
                                   <td width="2%">&nbsp;</td>
                                   <td width="45%"> &nbsp;</td>
                             </tr>

                              <tr> 
                                   <td width="100%" colspan="3"><br/>
                                         <table width="100%" border="0" >
                                            <tr>
                                                 <td width="23%">
                                                    <div class="form-group col-12 border text-left" id="divBordeDG_15_1k" style="height: 73px;  margin:0   px 0px 6px !important; border-color:#DEE2E6 !important; padding: 10px 0px !important;">
                                                          <label for="objetivo" class="label label-caja" style="font-size: 14px !important; font-weight: bold; color: green;">Atributo (1)
                                                          </label>

                                                            <input type="text" placeholder="Atributo_1" style="padding: 18px !important; font-size: 13px !important; text-align: left !important;" id="txt_2x" name="txt_2x" class="form-control text-left " >

                                                    </div>
                                                 </td>
                                                <td width="2%">&nbsp;</td>  

                                                 <td width="23%">
                                                    <div class="form-group col-12 border text-left" id="divBordeDG_15_1k" style="height: 73px;  margin:0   px 0px 6px !important; border-color:#DEE2E6 !important; padding: 10px 0px !important;">
                                                          <label for="objetivo" class="label label-caja" style="font-size: 14px !important; font-weight: bold; color: green;">Tipo Dato C#
                                                          </label>

                                                        <select class="text-center " style="font-weight: bold; color: rgb(83, 75, 75); border-color: transparent !important; height: 18px !important; width: 90% !important; padding: 0px !important; margin: 0px 16px !important; font-size: 13px; background-color: rgb(255, 255, 255);" id="txt_3" name="txt_3">

                                                            <option  value="int">int</option> 
                                                            <option  value="string">string</option> 
                                                            <option  value="long">long</option>   
                                                            <option  value="List">List</option> 
                                                            <option  value="DateTime">DateTime</option> 

                                                            </select>
                                                    </div>
                                                 </td>
                                                <td width="2%">&nbsp;</td> 

                                                <td width="23%">
                                                    <div class="form-group col-12 border text-left" id="divBordeDG_15_1k" style="height: 73px;  margin:0   px 0px 6px !important; border-color:#DEE2E6 !important; padding: 10px 0px !important;">
                                                          <label for="objetivo" class="label label-caja" style="font-size: 14px !important; font-weight: bold; color: green;">Tipo Dato SQL
                                                          </label>

                                                        <select class="text-center " style="font-weight: bold; color: rgb(83, 75, 75); border-color: transparent !important; height: 18px !important; width: 90% !important; padding: 0px !important; margin: 0px 16px !important; font-size: 13px; background-color: rgb(255, 255, 255);" id="txt_4" name="txt_4">

                                                            <option  value="int">int</option> 
                                                             <option  value="bigint">bigint</option>
                                                            <option  value="varchar">varchar</option> 
                                                            <option  value="date">date</option>   
                                                            <option  value="time">time</option> 
                                                            <option  value="datetime">datetime</option> 

                                                             <option  value="nvarchar">nvarchar</option>
                                                             <option  value="varchar(max)">varchar(max)</option> 
                                                             <option  value="real">real</option> 
                                                             <option  value="float">float</option> 


                                                            </select>
                                                    </div>
                                                 </td>
                                                <td width="14%">&nbsp;</td>  
                                                <td width="13%">
                                                        <button class="btn btn-system-celeste" onclick="AgregaListado();" style="padding-left: 0.8rem;padding-right: 0.8rem; font-size: 15px; font-weight: bold; font-stretch: normal;">
                                                            <img src="./images/iconos/plus_.svg" alt="">
                                                            <span class="ml-3">Agregar Atributo</span>
                                                        </button>

                                                </td>   
                                            </tr>
                                          </table>
                                   </td>
                             </tr>


                              <tr> 
                                 <td width="100%" colspan="3">
                                    <table width="100%">
                                        <tr>
                                             <td width="75%"> 
                                                    <div class="header-tabla px-2 py-3" style="width: 100% !important; ">
                                                          <table width="100%" border="0">
                                                              <tbody><tr>
                                                                  <td width="40%" align="center"><div id="c3TabNombreDoc" class="text-left lbCabezaTabla" style=" font-size: 14px !important; font-weight: bold !important;"> Nombre del Atributo </div></td>

                                                                  <td width="30%" align="center"><div id="c4TabEstadoDoc" class="text-center lbCabezaTabla" style=" font-size: 14px !important; font-weight: bold !important;">Tipo Dato C#</div></td>

                                                                  <td width="15%" align="center"><div id="c5TabAdjuntarDoc" class="text-center lbCabezaTabla" style=" font-size: 14px !important; font-weight: bold !important;">Tipo de Dato SQL</div></td>

                                                                  <td width="15%" align="center"><div id="c6TabVerDoc" class="text-center lbCabezaTabla" style=" font-size: 14px !important; font-weight: bold !important;">Eliminar</div></td>
                                                              </tr>
                                                          </tbody></table>
                                                     </div>


                                                     <!-- ------------------------------------------------------------------------------------------------ -->
                                                        <div class="col-12 text-center" style="font-size: 15px; padding: 4px !important; " id="div_1">
                                                                <div class="row" style="margin-top: 3px;" >

                                                                    <table width="99%" border="0" style="background-color: #DEE2E6; margin-left: 6px;">
                                                                        <tbody><tr>
                                                                            <td width="40%" align="center"><div id="nombreDocs_0" class="text-left " style="margin: 0px 0px 0px 18px !important; font-size: 14px !important; font-weight: bold !important; ">IdIncidenteAccidente</div></td>

                                                                        <td width="30%" align="center"><div id="EstatoAdjunto_0" class="text-center " style="color:0;">int</div></td>

                                                                            <td width="15%" align="center">
                                                                                <div id="EstatoAdjunto_0" class="text-center " style="color:0;">bigint</div>
                                                                            </td>

                                                                            <td width="15%" align="center"><div class="text-center lbCabezaTabla">
                                                                                <button type="button" title="Eliminar Evidencia" onclick=" fnSp4RemoverEvidencia(0,166)" class="btn-circle btn_read border-0" style="background-color:#ff6767 !important; cursor:pointer !important;" onmouseup="/*fnDescargarEvidenciaSp3(166)*/" id="eliminarDoc_0">
                                                                                    <img src="./images/iconos/delete.svg" class="ojo-1">
                                                                                </button>
                                                                            </div></td>
                                                                        </tr>
                                                                    </tbody></table>

                                                                </div>

                                                                 <div class="row"  style="margin-top: 3px;" >

                                                                    <table width="99%" border="0" style="background-color: #DEE2E6; margin-left: 6px;">
                                                                        <tbody><tr>
                                                                            <td width="40%" align="center"><div id="nombreDocs_0" class="text-left " style="margin: 0px 0px 0px 18px !important; font-size: 14px !important; font-weight: bold !important; ">IdIncidenteAccidente</div></td>

                                                                        <td width="30%" align="center"><div id="EstatoAdjunto_0" class="text-center " style="color:0;">int</div></td>

                                                                            <td width="15%" align="center">
                                                                                <div id="EstatoAdjunto_0" class="text-center " style="color:0;">bigint</div>
                                                                            </td>

                                                                            <td width="15%" align="center"><div class="text-center lbCabezaTabla">
                                                                                <button type="button" title="Eliminar Evidencia" onclick=" fnSp4RemoverEvidencia(0,166)" class="btn-circle btn_read border-0" style="background-color:#ff6767 !important; cursor:pointer !important;" onmouseup="/*fnDescargarEvidenciaSp3(166)*/" id="eliminarDoc_0">
                                                                                    <img src="./images/iconos/delete.svg" class="ojo-1">
                                                                                </button>
                                                                            </div></td>
                                                                        </tr>
                                                                    </tbody></table>

                                                                </div>
                                                            </div>
                                                     <!-- ------------------------------------------------------------------------------------------------ -->
                                             </td>
                                        </tr>
                                        <tr>
                                             <td width="25%">&nbsp;</td>
                                        </tr>
                                    </table>
                                       
                                 </td>
                              </tr>

                            

                            <tr><td width="100%" colspan="3">  

                                      <table width="100%">
                                        <tr>
                                             <td width="25%"> 
                                                    <div class="form-group col-12 border text-left" id="divBordeDG_15_1k" style="height: 73px;  margin:0   px 0px 6px !important; border-color:#DEE2E6 !important; padding: 10px 0px !important;">
                                                          <label for="objetivo" class="label label-caja" style="font-size: 16px !important; font-weight: bold; color: green;">Nombre Programador
                                                          </label>

                                                            <input id="txt_5" name="txt_5"  type="text" style="padding: 18px !important; font-size: 13px !important; text-align: left !important;" class="form-control text-left " >
                                                    </div>
                                             </td>

                                              <td width="5%"> &nbsp;</td>

                                                <td width="25%"> 
                                                    <div class="form-group col-12 border text-left" id="divBordeDG_15_1k" style="height: 73px;  margin:0   px 0px 6px !important; border-color:#DEE2E6 !important; padding: 10px 0px !important;">
                                                          <label for="objetivo" class="label label-caja" style="font-size: 16px !important; font-weight: bold; color: green;">Correo del  Programador
                                                          </label>

                                                            <input id="txt_6" name="txt_6"  type="text" style="padding: 18px !important; font-size: 13px !important; text-align: left !important;" class="form-control text-left " >
                                                    </div>
                                             </td>

                                              <td width="5%"> &nbsp;</td>

                                                <td width="25%"> 
                                                    <div class="form-group col-12 border text-left" id="divBordeDG_15_1k" style="height: 73px;  margin:0   px 0px 6px !important; border-color:#DEE2E6 !important; padding: 10px 0px !important;">
                                                          <label for="objetivo" class="label label-caja" style="font-size: 16px !important; font-weight: bold; color: green;">Modulo
                                                          </label>

                                                            <input id="txt_7" name="txt_7"  type="text" style="padding: 18px !important; font-size: 13px !important; text-align: left !important;" class="form-control text-left " >
                                                    </div>
                                             </td>

                                              <td width="5%"> &nbsp;</td>
                                        </tr>
                                      </table>

                            </td></tr>

                              <tr><td width="100%" colspan="3">  

                                      <table width="100%">
                                        <tr>
                                             <td width="15%"> &nbsp;</td>


                                                <td width="20%"> 
                                                    <button class="btn btn-system-celeste" onclick="generarCodigos();" style="padding-left: 0.8rem; background-color: #58c25d !important;  padding-right: 0.8rem; font-size: 15px; font-weight: bold; font-stretch: normal;">
                                                            <img src="./images/iconos/attach_2.svg" alt="">
                                                            <span class="ml-3">Generar Codigo (JS)</span>
                                                    </button>
                                                </td>

                                              <td width="5%"> &nbsp;</td>


                                                <td width="20%"> 
                                                    <button class="btn btn-system-celeste" onclick="generarCodigos2();" style="padding-left: 0.8rem; background-color: #ffb525 !important;  padding-right: 0.8rem; font-size: 15px; font-weight: bold; font-stretch: normal;">
                                                            <img src="./images/iconos/attach_2.svg" alt="">
                                                            <span class="ml-3">Generar Codigo (C#)</span>
                                                    </button>
                                                </td>

                                              <td width="5%"> &nbsp;</td>


                                                <td width="20%"> 
                                                    <button class="btn btn-system-celeste" onclick="generarCodigos3();" style="padding-left: 0.8rem; background-color: #ff6767 !important;  padding-right: 0.8rem; font-size: 15px; font-weight: bold; font-stretch: normal;">
                                                            <img src="./images/iconos/attach_2.svg" alt="">
                                                            <span class="ml-3">Generar Codigo (SQL)</span>
                                                    </button>
                                                </td>

                                              <td width="15%"> &nbsp;</td>

                                        </tr>
                                      </table>

                            </td></tr>















                         </table>
                        <!-- </form> -->
                        </div>
                   </div>

               <!----------------------- *** Fin Capa Padre ***   ----------------------->




               <div class="modal fade"  id="modalMsgError" tabindex="-1" role="dialog" aria-labelledby="ExitoIngresarAuditoriaModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered rounded" role="document" style="max-width: 300px; z-index: 1030; ">
            
                    <div class="modal-content rounded border-0" style=" background-color:rgba(0,0,0,.0001) !important; box-shadow: none;">
                        <div style="overflow: hidden;height: 360px;overflow-x: hidden; ">
                            <div class="modal-body" id="" style="padding: 0px;">
                                <div class="col-sm-12 col-md-12" style="color:#575757c9; width: 100%; padding: 0px;">
            
                                    <div class="card border-o" style=" padding: 0px; border: 2px solid #ff5a5a; border-radius: 5px;    width: 100%;">
                                        <div class="card-header text-white" style="background:#ff5a5a; height: 95px;">
                                                <div class="d-flex justify-content-center">
                                                    <img src="images/iconos/informacion3.svg">
                                                </div>
                                        </div>
                                            <div class="card-body" style="background: white;">
                                              <table align="center" width= "100%" border="0" >
                                                  <tr>
                                                      <td width="5%" >&nbsp;</td>
                                                           <td width="80%" >
                                                            <div class="d-flex justify-content-center titulo-exito-ingreso-auditoriaCA" style="font-size: 18px;">
                                                                <b></b>
                                                            </div>
            
                                                           </td>
                                                      <td width="5%">&nbsp;</td>
                                                  </tr>
            
                                                  <tr>
                                                    <td width="5%" >&nbsp;</td>
                                                         <td width="80%" >
                                                             <div id="subTituloError" class="d-flex mb-2 justify-content-center titulo-confirmar-ingreso-auditoriaCA" style="font-size: 18px;">
                                                                   <b>auditorías con éxito</b>
                                                             </div>
                                                         </td>
                                                    <td width="5%">&nbsp;</td>
                                                   </tr>
            
                                                    <tr>
                                                        <td width="5%" >&nbsp;</td>
                                                            <td width="80%" align="center" >
                                                                <div id="mensajeError" class="d-flex mx-0 px-0 justify-content-center pregunta-exito-ingreso-auditoriaCA">
                                                                    El código de la programación es:aaaaaaaaad dfdsfsdfdsf
                                                                    dsfsdfdsfsdfdsfdfdsfdf
                                                                    dfsdfsdfds
                                                                 </div>
                                                            </td>
                                                        <td width="5%">&nbsp;</td>
                                                    </tr>
            
            
                                                    <tr>
                                                        <td width="5%" >&nbsp;</td>
                                                            <td width="80%" >
                                                                <div class="d-flex mx-0 px-0 justify-content-center pregunta-exito-ingreso-auditoriaCA">
                                                                    &nbsp;
                                                                 </div>
                                                            </td>
                                                        <td width="5%">&nbsp;</td>
                                                    </tr>
            
                                                    <tr>
                                                        <td width="5%" >&nbsp;</td>
                                                            <td width="80%" >
                                                                <div  class="d-flex mb-3 mx-0 justify-content-center titulo-exito-ingreso-auditoriaCA" >
                                                                    <button type="button" onClick="$('#modalMsgError').modal('hide');   document.getElementById('txt_comentario').focus();" class="btn_confirmar_modal bg-danger" style="color: #fff" >De Acuerdo</button>
                                                                </div>
                                                            </td>
                                                        <td width="5%">&nbsp;</td>
                                                    </tr>
                                                  
            
            
                                              </table>
                                            </div>
            
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            
            </div>

    </body>
<!----------------------- *** Fin de la Cuerpo de la Pagina ***   -----------------------> 





<div class="modal fade "  id="modalAlertaIncidente" tabindex="-1" data-backdrop="static" data-keyboard="false" aria-hidden="true"  tabindex="-1" role="dialog"  style="overflow-y: scroll;">
    <div class="modal-dialog modal-dialog-centered rounded" role="document" style="max-width: 1321px; z-index: 1030;   ">
        <div class="modal-content rounded border-0"  style="background:#ffffff; height: 1111px !important; " >
            <div style="overflow: hidden; height: 1092px; overflow-x: hidden; /*background-color: red;*/ ">

                <! START MODAL-HEADER >
                <div class="modal-header fix-header-modal" >
                    <div class="card-header text-center text-white modal-dialog-centered  card-header-FormAuditor" id="red-head" style="width: 100%; padding: 0px 0px !important; background:#58c25d !important;">
                        <div class="row align-items-center" style="width: 100%;">
                            <div class="col-1">
                                <img src="./images/prev.svg" style="cursor:pointer; display: none" title="Salir" onclick=" $('#modalVerPlanAnualSP3').modal('hide').removeClass('fade');">
                            </div>
                            <div class="col-10">
                                <span id="titleModalCodigo"><h5 class="m-0">YANDY! 0.1  CODIGO GENERADO</h5></span>
                            </div>
                            <div class="col-1">
                                <img src="./images/iconos/delete.svg" style="cursor:pointer;" title = 'Salir' onclick="$('#modalAlertaIncidente').modal('hide').removeClass('fade');" >
                            </div>
                        </div>
                    </div>
                </div>
                <! END MODAL-HEADER >

                <! START MODAL-BODY >
                <div class="modal-body dialog-position" id="bodymodalShowAuditor" style="  justify-content:space-around; align-content:center; padding: 10px 0px 0px !important;">
                    <div class="card " style="border: 0px !important; border-radius: 5px; box-shadow: none; /*background-color:chocolate !important;*/">
                        
                              <!-- aqui es que esta el scroll  -->
                        <div id="divPreviewEval" class="divPreviewEval overflow-auto" style="margin-left: auto; margin-right: auto; height: 1300px !important ; /*background-color:cornflowerblue !important;" >

                            <table border="0" style="margin-left: auto; margin-right: auto; width: 1253px;">
                                <tr>
                                  <td colspan="3">
                                      
                                           
                                    <table width="100%" border="0">
                                        <tr>
                                          <td width="40%" style="text-align: left !important;">
                                                <label   class="lbEvalAud_02">
                                                  <b style="text-align: left !important;">Código (Java Scripts)</b>
                                                </label>
                                                <label style="font-size: 14px !important; font-weight: normal; color:red; !important;"  >*</label>
                                            </td>
<td width="59%"> <p style="color:#eaeaea; font-weight: bold">   &nbsp;</p></td>
                                          <td width="1%" text-align:rigth !important;><img src="./images/iconos/escritura_5.svg"></td>
                                        </tr>
                                      </table>

                                      </td>
                                      </tr>

                                      <tr>
                                        <td colspan="3" >

                                            <div class="form-group col-12 border text-left"  id="divmisoAlerta" style="height: 806px;  border-color:#DEE2E6 !important;  margin:0px 0px 6px !important; padding: 10px 0px !important;"  >
                                                <label for="objetivo" class="label label-caja" style="font-size: 14px !important; font-weight: normal; color:#575757c9;"  >
                                                    
                                                </label>
                                                <textarea onkeypress="" class=" textarea-fecha2" onkeyup=" "  style=" font-family:Courier New !important;  height: 766px;  font-size:12px !important; font-weight: bold;  color:green; text-align: left !important; background-color:#c1c1c1;"  id="txt_codigo_js"  name = "txt_codigo_js"></textarea>

                                              </div>

                                        </td>
                                      </tr>


                               <!--  ---------------------------------------------------------------------------------------------------------    -->

                              <tr>
                                <td colspan="3">
                                    <div style="font-size: 12px; color:grey; text-align: center;" >
                                    <!-- Le corresponde a cada pregunta. Solo es necesario realizar una evaluación por auditor/ Planta auditada -->
                                    
                                    </div>
                               </td>
                              </tr>
                            </table>
                            
                                
                        </div>
                           
                      
                    </div>
                </div>
                <! END MODAL-BODY >

                <! START MODAL-FOOTER >
                <!-- <div class="modal-footer">
                    <div class="row justify-content-center">
                        <div class="col-12">

                            modal footer

                        </div>
                    </div>
                </div> -->
                <! END MODAL-FOOTER >


            </div>
        </div>
    </div>
</div>
<!--  END  MODAL VER PLAN ANUAL SP4 -->









<div class="modal fade "  id="modalAlertaIncidente2" tabindex="-1" data-backdrop="static" data-keyboard="false" aria-hidden="true"  tabindex="-1" role="dialog"  style="overflow-y: scroll;">
    <div class="modal-dialog modal-dialog-centered rounded" role="document" style="max-width: 1321px; z-index: 1030;   ">
        <div class="modal-content rounded border-0"  style="background:#ffffff; height: 1111px !important; " >
            <div style="overflow: hidden; height: 1092px; overflow-x: hidden; /*background-color: red;*/ ">

                <! START MODAL-HEADER >
                <div class="modal-header fix-header-modal" >
                    <div class="card-header text-center text-white modal-dialog-centered  card-header-FormAuditor" id="red-head" style="width: 100%; padding: 0px 0px !important; background:#ffb525  !important;">
                        <div class="row align-items-center" style="width: 100%;">
                            <div class="col-1">
                                <img src="./images/prev.svg" style="cursor:pointer; display: none" title="Salir" onclick=" $('#modalVerPlanAnualSP3').modal('hide').removeClass('fade');">
                            </div>
                            <div class="col-10">
                                <span id="titleModalCodigo2"><h5 class="m-0">YANDY! 0.1  CODIGO GENERADO</h5></span>
                            </div>
                            <div class="col-1">
                                <img src="./images/iconos/delete.svg" style="cursor:pointer;" title = 'Salir' onclick="$('#modalAlertaIncidente2').modal('hide').removeClass('fade');" >
                            </div>
                        </div>
                    </div>
                </div>
                <! END MODAL-HEADER >

                <! START MODAL-BODY >
                <div class="modal-body dialog-position" id="bodymodalShowAuditor" style="  justify-content:space-around; align-content:center; padding: 10px 0px 0px !important;">
                    <div class="card " style="border: 0px !important; border-radius: 5px; box-shadow: none; /*background-color:chocolate !important;*/">
                        
                              <!-- aqui es que esta el scroll  -->
                        <div id="divPreviewEval" class="divPreviewEval overflow-auto" style="margin-left: auto; margin-right: auto; height: 1300px !important ; /*background-color:cornflowerblue !important;" >

                            <table border="0" style="margin-left: auto; margin-right: auto; width: 1253px;">
                                <tr>
                                  <td colspan="3">
                                      
                                           
                                    <table width="100%" border="0">
                                        <tr>
                                          <td width="40%" style="text-align: left !important;">
                                                <label   class="lbEvalAud_02">
                                                  <b style="text-align: left !important;">Código (C#  .NET) (Archivo run.csx)</b>
                                                </label>
                                                <label style="font-size: 14px !important; font-weight: normal; color:red; !important;"  >*</label>
                                            </td>
<td width="59%"> <p style="color:#eaeaea; font-weight: bold">   &nbsp;</p></td>
                                          <td width="1%" text-align:rigth !important;><img src="./images/iconos/escritura_5.svg"></td>
                                        </tr>
                                      </table>

                                      </td>
                                      </tr>

                                      <tr>
                                        <td colspan="3" >

                                            <div class="form-group col-12 border text-left"  id="divmisoAlerta" style="height: 406px;  border-color:#DEE2E6 !important;  margin:0px 0px 6px !important; padding: 10px 0px !important;"  >
                                                <label for="objetivo" class="label label-caja" style="font-size: 14px !important; font-weight: normal; color:#575757c9;"  >
                                                    
                                                </label>
                                                <textarea onkeypress="" class=" textarea-fecha2" onkeyup=" "  style=" font-family:Courier New !important;  height: 366px;  font-size:12px !important; font-weight: bold;  color:green; text-align: left !important; background-color:#c1c1c1;"  id="txt_codigo_cshar"  name = "txt_codigo_cshar"></textarea>

                                              </div>

                                        </td>
                                      </tr>



                                        <tr>
                                        <td colspan="3"  style="text-align: left !important;">
                                              <br/>
                                              <label   class="lbEvalAud_02">
                                                  <b style="text-align: left !important;">Código (C#  .NET) (Archivo sql.csx)</b>
                                                </label>
                                                <label style="font-size: 14px !important; font-weight: normal; color:red; !important;"  >*</label>
                                           
                                        </td>
                                      </tr>



                                       <tr>
                                        <td colspan="3" >

                                            <div class="form-group col-12 border text-left"  id="divmisoAlerta" style="height: 406px;  border-color:#DEE2E6 !important;  margin:0px 0px 6px !important; padding: 10px 0px !important;"  >
                                                <label for="objetivo" class="label label-caja" style="font-size: 14px !important; font-weight: normal; color:#575757c9;"  >
                                                    
                                                </label>
                                                <textarea onkeypress="" class=" textarea-fecha2" onkeyup=" "  style=" font-family:Courier New !important;  height: 366px;  font-size:12px !important; font-weight: bold;  color:green; text-align: left !important; background-color:#c1c1c1;"  id="txt_codigo_cshar2"  name = "txt_codigo_cshar2"></textarea>

                                              </div>

                                        </td>
                                      </tr>


                               <!--  ---------------------------------------------------------------------------------------------------------    -->

                              <tr>
                                <td colspan="3">
                                    <div style="font-size: 12px; color:grey; text-align: center;" >
                                    <!-- Le corresponde a cada pregunta. Solo es necesario realizar una evaluación por auditor/ Planta auditada -->
                                    
                                    </div>
                               </td>
                              </tr>
                            </table>
                            
                                
                        </div>
                           
                      
                    </div>
                </div>
                <! END MODAL-BODY >

                <! START MODAL-FOOTER >
                <!-- <div class="modal-footer">
                    <div class="row justify-content-center">
                        <div class="col-12">

                            modal footer

                        </div>
                    </div>
                </div> -->
                <! END MODAL-FOOTER >


            </div>
        </div>
    </div>
</div>
<!--  END  MODAL VER PLAN ANUAL SP4 -->




<div class="modal fade "  id="modalAlertaIncidente3" tabindex="-1" data-backdrop="static" data-keyboard="false" aria-hidden="true"  tabindex="-1" role="dialog"  style="overflow-y: scroll;">
    <div class="modal-dialog modal-dialog-centered rounded" role="document" style="max-width: 1321px; z-index: 1030;   ">
        <div class="modal-content rounded border-0"  style="background:#ffffff; height: 1111px !important; " >
            <div style="overflow: hidden; height: 1092px; overflow-x: hidden; /*background-color: red;*/ ">

                <! START MODAL-HEADER >
                <div class="modal-header fix-header-modal" >
                    <div class="card-header text-center text-white modal-dialog-centered  card-header-FormAuditor" id="red-head" style="width: 100%; padding: 0px 0px !important; background:#ff6767  !important;">
                        <div class="row align-items-center" style="width: 100%;">
                            <div class="col-1">
                                <img src="./images/prev.svg" style="cursor:pointer; display: none" title="Salir" onclick=" $('#modalVerPlanAnualSP3').modal('hide').removeClass('fade');">
                            </div>
                            <div class="col-10">
                                <span id="titleModalCodigo3"><h5 class="m-0">YANDY! 0.1  CODIGO GENERADO</h5></span>
                            </div>
                            <div class="col-1">
                                <img src="./images/iconos/delete.svg" style="cursor:pointer;" title = 'Salir' onclick="$('#modalAlertaIncidente3').modal('hide').removeClass('fade');" >
                            </div>
                        </div>
                    </div>
                </div>
                <! END MODAL-HEADER >

                <! START MODAL-BODY >
                <div class="modal-body dialog-position" id="bodymodalShowAuditor" style="  justify-content:space-around; align-content:center; padding: 10px 0px 0px !important;">
                    <div class="card " style="border: 0px !important; border-radius: 5px; box-shadow: none; /*background-color:chocolate !important;*/">
                        
                              <!-- aqui es que esta el scroll  -->
                        <div id="divPreviewEval" class="divPreviewEval overflow-auto" style="margin-left: auto; margin-right: auto; height: 1300px !important ; /*background-color:cornflowerblue !important;" >

                            <table border="0" style="margin-left: auto; margin-right: auto; width: 1253px;">
                                <tr>
                                  <td colspan="3">
                                      
                                           
                                    <table width="100%" border="0">
                                        <tr>
                                          <td width="40%" style="text-align: left !important;">
                                                <label   class="lbEvalAud_02">
                                                  <b style="text-align: left !important;">Código (SQL) - Procedimento Almacenado (Get)</b>
                                                </label>
                                                <label style="font-size: 14px !important; font-weight: normal; color:red; !important;"  >*</label>
                                            </td>
<td width="59%"> <p style="color:#eaeaea; font-weight: bold">   &nbsp;</p></td>
                                          <td width="1%" text-align:rigth !important;><img src="./images/iconos/escritura_5.svg"></td>
                                        </tr>
                                      </table>

                                      </td>
                                      </tr>

                                     <!--  <tr>
                                        <td colspan="3" >

                                            <div class="form-group col-12 border text-left"  id="divmisoAlerta" style="height: 806px;  border-color:#DEE2E6 !important;  margin:0px 0px 6px !important; padding: 10px 0px !important;"  >
                                                <label for="objetivo" class="label label-caja" style="font-size: 14px !important; font-weight: normal; color:#575757c9;"  >
                                                    
                                                </label>
                                                <textarea onkeypress="" class=" textarea-fecha2" onkeyup=" "  style=" font-family:Courier New !important;  height: 766px;  font-size:12px !important; font-weight: bold;  color:green; text-align: left !important; background-color:#c1c1c1;"  id="txt_codigo_sql"  name = "txt_codigo_js"></textarea>

                                              </div>

                                        </td>
                                      </tr> -->


                                       <tr>
                                        <td colspan="3" >

                                            <div class="form-group col-12 border text-left"  id="divmisoAlerta" style="height: 256px;  border-color:#DEE2E6 !important;  margin:0px 0px 6px !important; padding: 10px 0px !important;"  >
                                                <label for="objetivo" class="label label-caja" style="font-size: 14px !important; font-weight: normal; color:#575757c9;"  >
                                                    
                                                </label>
                                                <textarea onkeypress="" class=" textarea-fecha2" onkeyup=" "  style=" font-family:Courier New !important;  height: 216px;  font-size:12px !important; font-weight: bold;  color:green; text-align: left !important; background-color:#c1c1c1;"  id="txt_codigo_sql"  name = "txt_codigo_sql"></textarea>

                                              </div>

                                        </td>
                                      </tr>



                                        <tr>
                                        <td colspan="3"  style="text-align: left !important;">
                                              <br/>
                                              <label   class="lbEvalAud_02">
                                                  <b style="text-align: left !important;">Código (SQL) - Procedimento Almacenado (Post Insertar y Modificar )</b>
                                                </label>
                                                <label style="font-size: 14px !important; font-weight: normal; color:red; !important;"  >*</label>
                                           
                                        </td>
                                      </tr>



                                       <tr>
                                        <td colspan="3" >

                                            <div class="form-group col-12 border text-left"  id="divmisoAlerta" style="height: 256px;  border-color:#DEE2E6 !important;  margin:0px 0px 6px !important; padding: 10px 0px !important;"  >
                                                <label for="objetivo" class="label label-caja" style="font-size: 14px !important; font-weight: normal; color:#575757c9;"  >
                                                    
                                                </label>
                                                <textarea onkeypress="" class=" textarea-fecha2" onkeyup=" "  style=" font-family:Courier New !important;  height: 216px;  font-size:12px !important; font-weight: bold;  color:green; text-align: left !important; background-color:#c1c1c1;"  id="txt_codigo_sql2"  name = "txt_codigo_sql2"></textarea>

                                              </div>

                                        </td>
                                      </tr>


                                       <tr>
                                        <td colspan="3"  style="text-align: left !important;">
                                              <br/>
                                              <label   class="lbEvalAud_02">
                                                  <b style="text-align: left !important;">Código (SQL) - TABLA</b>
                                                </label>
                                                <label style="font-size: 14px !important; font-weight: normal; color:red; !important;"  >*</label>
                                           
                                        </td>
                                      </tr>



                                       <tr>
                                        <td colspan="3" >

                                            <div class="form-group col-12 border text-left"  id="divmisoAlerta" style="height: 256px;  border-color:#DEE2E6 !important;  margin:0px 0px 6px !important; padding: 10px 0px !important;"  >
                                                <label for="objetivo" class="label label-caja" style="font-size: 14px !important; font-weight: normal; color:#575757c9;"  >
                                                    
                                                </label>
                                                <textarea onkeypress="" class=" textarea-fecha2" onkeyup=" "  style=" font-family:Courier New !important;  height: 216px;  font-size:12px !important; font-weight: bold;  color:green; text-align: left !important; background-color:#c1c1c1;"  id="txt_codigo_sql3"  name = "txt_codigo_sql3"></textarea>

                                              </div>

                                        </td>
                                      </tr>





                               <!--  ---------------------------------------------------------------------------------------------------------    -->

                              <tr>
                                <td colspan="3">
                                    <div style="font-size: 12px; color:grey; text-align: center;" >
                                    <!-- Le corresponde a cada pregunta. Solo es necesario realizar una evaluación por auditor/ Planta auditada -->
                                    
                                    </div>
                               </td>
                              </tr>
                            </table>
                            
                                
                        </div>
                           
                      
                    </div>
                </div>
                <! END MODAL-BODY >

                <! START MODAL-FOOTER >
                <!-- <div class="modal-footer">
                    <div class="row justify-content-center">
                        <div class="col-12">

                            modal footer

                        </div>
                    </div>
                </div> -->
                <! END MODAL-FOOTER >


            </div>
        </div>
    </div>
</div>
<!--  END  MODAL VER PLAN ANUAL SP4 -->




<!--  -------------------------------------------------------------------------------------------------------------------------------  -->


<div class="modal fade "  id="modalConfirmReenviarCorreo" tabindex="-1" role="dialog" aria-labelledby="modalAddCompanyTitle" aria-hidden="true" >
  <div class="modal-dialog modal-dialog-centered rounded " role="document" style="max-width: 412px; z-index: 1030; ">
      <div class="modal-content rounded " style="border: 0px !important; background-color:rgba(0,0,0,.0001) !important; box-shadow: none;">

          <div style="overflow: hidden;height: 500px;overflow-x: hidden; ">
              <div class="modal-body" id="">
                  <div class="col-sm-12 col-md-12" style="color:#575757c9;">

                      <div class="card " style=" border-radius: 10px; box-shadow: none;">
                          <div class="card-header text-center text-white  " style=" border-radius: 10px 10px 0px 0px; background:#05beee; height: 95px;"><img src="images/iconos/informacio1.svg"><span><b><br><br>&nbsp;&nbsp;&nbsp;&nbsp;</b></span></div>

                          <div class="card-body">
                              <div class="row p-0 d-flex justify-content-center">
                                  <div class="col-sm-10 align-self-center text-center; "> 
                                          <h4 style="letter-spacing: 0.26px; text-align: center; font-size: 18px; font-weight: bold; color:black">
                                              <b>Se renviará la evaluación vencida de:</b>
                                          </h4>
                                  </div>
                                  <div class="col-sm-10 align-self-center text-center;"> 
                                      <h4 id = 'lbSendMail' style="letter-spacing: 0.26px; text-align: center; font-size: 18px; font-weight: bold; color:black">
                                          <b>Mauricio Carhuapoma Torres</b>
                                      </h4>
                                 </div>
                              </div>
                          </div>
                          <!-- <div class="espacio"></div> -->
                          <div class="card-body">
                              <div class="row p-0 d-flex justify-content-center">
                                  <div class="col-sm-10 align-self-center text-center" style="color: #000000 !important; font-family: ProductSans;font-size: 15px;" >
                                      <h5 style="font-size: 14px;"><b>¿Desea confirmar la acción?</b></h5>
                                  </div>

                              </div>
                          </div>
                          <div class="espacio"></div>
                          <div class="card-body">
                              <div class="row p-0 d-flex justify-content-center">
                                  <div class="col-sm-12 align-self-center text-center" style="color: #000000 !important; font-family: ProductSans;font-size: 15px;" >
                                      <button  style="background-color: #05beee; width: 122px; height: 47px; color:#FFF;  margin: 0 10px 0 0; padding: 7px 12.2px 10px 5px;"
                                      type="button" id="btnValidaReeCorr" class="btn  btn-raised"  onclick="fnSp3ConfirmReenviarEvaluacion();">
                                        <b>Confirmar</b>
                                      </button>

                                      <button type="button" class="btn   btn-white btn-raised" 
                                         style=" background-color: #fff; width: 122px; height: 47px; color:black;  margin: 0 10px 0 0; padding: 7px 12.2px 10px 5px;" 
                                         id="CancelConfirmReeCorr" onclick=" $('#modalConfirmReenviarCorreo').modal('hide').removeClass('fade');" ><b>Cerrar</b>
                                      </button>

                                  </div>

                              </div>
                          </div>






                          <div ></div>
                      </div>
                  </div>
              </div>



          </div>
      </div>
  </div>
</div>
    <div class="modal fade "  id="modalConfirmEnviarEvaluacion" tabindex="-1" role="dialog" aria-labelledby="modalAddCompanyTitle" aria-hidden="true" >
        <div class="modal-dialog modal-dialog-centered rounded " role="document" style="max-width: 412px; z-index: 1030; ">
            <div class="modal-content rounded " style="border: 0px !important; background-color:rgba(0,0,0,.0001) !important; box-shadow: none;">

                <div style="overflow: hidden;height: 500px;overflow-x: hidden; ">
                    <div class="modal-body" id="">
                        <div class="col-sm-12 col-md-12" style="color:#575757c9;">

                            <div class="card " style=" border-radius: 10px; box-shadow: none;">
                                <div class="card-header text-center text-white  " style=" border-radius: 10px 10px 0px 0px; background:#05beee; height: 95px;"><img src="images/iconos/informacio1.svg"><span><b><br><br>&nbsp;&nbsp;&nbsp;&nbsp;</b></span></div>

                                <div class="card-body">
                                    <div class="row p-0 d-flex justify-content-center">
                                        <div class="col-sm-10 align-self-center text-center; "> 
                                                <h4 style="letter-spacing: 0.26px; text-align: center; font-size: 18px; font-weight: bold; color:black">
                                                    <b>Se guardarán las Calificaciones:</b>
                                                </h4>
                                        </div>
                                        <div class="col-sm-10 align-self-center text-center;"> 
                                            <h4 id = 'lbSendMail' style="letter-spacing: 0.26px; text-align: center; font-size: 18px; font-weight: bold; color:black">
                                                <b>Otorgadas al Auditor</b>
                                            </h4>
                                       </div>
                                    </div>
                                </div>
                                <!-- <div class="espacio"></div> -->
                                <div class="card-body">
                                    <div class="row p-0 d-flex justify-content-center">
                                        <div class="col-sm-10 align-self-center text-center" style="color: #000000 !important; font-family: ProductSans;font-size: 15px;" >
                                            <h5 style="font-size: 14px;"><b>¿Desea confirmar la acción?</b></h5>
                                        </div>

                                    </div>
                                </div>
                                <div class="espacio"></div>
                                <div class="card-body">
                                    <div class="row p-0 d-flex justify-content-center">
                                        <div class="col-sm-12 align-self-center text-center" style="color: #000000 !important; font-family: ProductSans;font-size: 15px;" >
                                            <button  style="background-color: #05beee; width: 122px; height: 47px; color:#FFF;  margin: 0 10px 0 0; padding: 7px 12.2px 10px 5px;"
                                            type="button" id="btnValidaMandaEval" class="btn  btn-raised"  onclick="ingresaBD();">
                                              <b>Confirmar</b>
                                            </button>

                                            <button type="button" class="btn   btn-white btn-raised" 
                                               style=" background-color: #fff; width: 122px; height: 47px; color:black;  margin: 0 10px 0 0; padding: 7px 12.2px 10px 5px;" 
                                               id="CancelConfirmReeCorr" onclick=" $('#modalConfirmEnviarEvaluacion').modal('hide').removeClass('fade');" ><b>Cerrar</b>
                                            </button>

                                        </div>

                                    </div>
                                </div>






                                <div ></div>
                            </div>
                        </div>
                    </div>



                </div>
            </div>
        </div>
    </div>

<!--  ..............................................................................................................................     -->
<div class="modal fade "  id="modalShowAlertConfirmEnviarCalificacionOk" tabindex="-1" data-backdrop="static" data-keyboard="false" aria-hidden="true"  tabindex="-1" role="dialog" aria-labelledby="modalAddCompanyTitle" aria-hidden="true" >
  <div class="modal-dialog modal-dialog-centered rounded " role="document" style="max-width: 422px; z-index: 1030; ">
      <div class="modal-content rounded " style="border: 0px !important; background-color:rgba(0,0,0,.0001) !important; box-shadow: none;">

          <div style="overflow: hidden;height: 500px;overflow-x: hidden; ">
              <div class="modal-body" id="">
                  <div class="col-sm-12 col-md-12" style="color:#575757c9;">

                      <div class="card " style=" border-radius: 10px; box-shadow: none;">
                          <div class="card-header text-center text-white  " style=" border-radius: 10px 10px 0px 0px; background:#D2D97B; height: 95px;"><img src="images/iconos/correct_1.svg"><span><b><br><br>&nbsp;&nbsp;&nbsp;&nbsp;</b></span></div>

                          <div class="card-body">
                              <div class="row p-0 d-flex justify-content-center">
                                  <div class="col-sm-10 align-self-center text-center" style="color: #000000 !important; font-family: ProductSans;" >
                                      <h4 style="letter-spacing: 0.26px; text-align: center; font-size: 18px; font-weight: bold; color:black"> 
                                          <b>Se registr&oacute; con &eacute;xito la evaluaci&oacute;n</b>
                                      </h4>
                                      
                                  </div>
                              </div>
                          </div>
                          <div class="espacio"></div>
                          <div class="card-body">
                              <div class="row p-0 d-flex justify-content-center">
                                  <div class="col-sm-10 align-self-center text-center" style="color: #000000 !important; font-family: ProductSans;font-size: 15px;" >
                                      <b>Gracias por su Colaboraci&oacute;n</b>
                                  </div>

                              </div>
                          </div>
                          <div class="espacio"></div>
                           <div class="card-body2">
                              <div class="row justify-content-around align-items-center">
                                  <div class="col-10">
                                      <button type="button" class="btn_confirmar_modal bg-green-lime-modal confirm btn-confirmar-fecha-end" 
                                      id="btn-confirmar-fecha-end" onclick=" $('#modalShowAlertConfirmEnviarCalificacionOk').modal('hide').removeClass('fade'); location.reload();"><b>De Acuerdo</b></button>
                                  </div>
                              </div>
                          </div>

                          <div ></div>
                      </div>
                  </div>
              </div>



          </div>
      </div>


  </div>
</div>







    <!-- libs estaticos -->
    <script src="js/jquery-3.4.1.js" ></script>
    <script src="modules/bootstrap-4.4.1/dist/js/bootstrap.min.js"  ></script>  
    <script src="https://www.google.com/recaptcha/api.js" async defer ></script>
    
    <script src="modules/bootstrap-sweetalert-master/dist/sweetalert.js"></script>
    <script src="modules/bootstrap-4-floating-labels-material-inputs/materialize-inputs.jquery.js" ></script> 
    <!-- libs dinamicos -->
    <script src="js/common.js" ></script>

    <script src="js/apiRoute.js"></script>
    <script src="js/msal.js" ></script>
    <script src="js/login.js" ></script>
    <script src="js/loginlog.js" ></script>
    

    <script>
	
function  ClaseMadre()
 {

        this.Atributo = [];
        this.TipoDatoJS = [];
        this.TipoDatoCSHARP = [];
        this.TipoDatoSQL = [];
}


var ObjClase = new  ClaseMadre();

function verModalError1(subTitulo, msg)
 {
   
   //alert("error");
   $('#subTituloError').html(" ")
   $('#subTituloError').html('<b>'+subTitulo+'</b>'); //cerrarModal
   
   $('#mensajeError').html(" ")
   $('#mensajeError').html('<p>'+msg+'</p>'); //cerrarModal
 
    $('#modalMsgError').css('z-index','9999999');
   $('#modalMsgError').modal('show').addClass('fade');
 
 }



 function getParameterByName(name) {
    name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
    var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
    results = regex.exec(location.search);
    return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
}


 var kkl = 0;
 $('#div_1').html("");





function AgregaListado()
 {
   var axf = $('#txt_2x').val();
   var b = $('#txt_3').val();
   var c = $('#txt_4').val();

  // alert("error = "+axf);
   var html = `
      <div class="row"  style="margin-top: 3px;" id = 'Fila_${kkl}'>

        <table width="99%" border="0" style="background-color: #DEE2E6; margin-left: 6px;">
            <tbody><tr>
                <td width="40%" align="center"><div id="nombreDocs_${kkl}" class="text-left " style="margin: 0px 0px 0px 18px !important; font-size: 14px !important; font-weight: bold !important; ">${axf}</div></td>

            <td width="30%" align="center"><div id="EstatoAdjunto_0" class="text-center " style="color:0;">${b}</div></td>

                <td width="15%" align="center">
                    <div id="EstatoAdjunto_0" class="text-center " style="color:0;">${c}</div>
                </td>

                <td width="15%" align="center"><div class="text-center lbCabezaTabla">
                    <button type="button" title="Eliminar Evidencia" onclick="fnRemueveAtributo('Fila_${kkl}', ${kkl})" class="btn-circle btn_read border-0" style="background-color:#ff6767 !important; cursor:pointer !important;" onmouseup="/*fnDescargarEvidenciaSp3(166)*/" id="eliminarDoc_0">
                        <img src="./images/iconos/delete.svg" class="ojo-1">
                    </button>
                </div></td>
            </tr>
        </tbody></table>

    </div>
    `;

   ObjClase.Atributo[kkl] = axf;
   ObjClase.TipoDatoCSHARP[kkl] = b;
   ObjClase.TipoDatoSQL[kkl] = c;

   $('#div_1').append(html);
   kkl ++;

 }

function fnRemueveAtributo(id,iy)
{
    $('#'+id).remove();
      ObjClase.Atributo.splice(iy, 1);
      ObjClase.TipoDatoCSHARP.splice(iy, 1);
      ObjClase.TipoDatoSQL.splice(iy, 1);
    kkl --;
}




var clase = '';
var modulo = '';
var programador = '';
var correo = '';
var jsFile = '';









function generarCodigos ()
{
   
   // kkl --;
   
clase = $('#txt_1').val();
modulo =  $('#txt_7').val().toUpperCase();
programador = $('#txt_5').val().toUpperCase();
correo = $('#txt_6').val();

var hoy = new Date();
var date_hoy = hoy.getDate()+'/'+(hoy.getMonth()+1)+'/'+hoy.getFullYear();

 $('#titleModalCodigo').html('<h5 class="m-0">YANDY! 0.1  CODIGO (JAVA SCRIPTS) GENERADO </h5>');

//alert('ObjClase = '+ObjClase.Atributo.length);

var patronCampos = "";
var patronGet = '';
var patronPost = '';
var patronURL = '';

ObjClase.Atributo.map(function(texto, Id) {

    //alert('texto ='+texto+'  Id ='+Id);

    patronCampos = patronCampos+' this.a.'+texto+';\n            ';
    patronGet    = patronGet+" <td width = '10%' align='center'><div id='cTabGeny' class='text-left lbCabezaTabla1'  >${Item."+texto+"!= null ? Item."+texto+": '---'}</div></td>\n            ";
    patronPost   = patronPost+' let '+texto+"= $('#'+'dat_"+texto+"').val();\n            ";
    patronURL    = patronURL+'"'+texto+'":'+texto+", \n            ";


   //  "IdTipoEvento_":IdTipoEvento_,
   
});



jsFile =  `
  
/*************************************************************************************************************
* VISUAL SAT - [2021]
* PROYECTO : SALUD E HIGIENE OCUPACIONAL
* ESQUEMA : SHO
* SPRINT  : 3
* MODULO : ${modulo}
* OPERADORES_________________________________________________________________________________________________
* | # | PROGRAMADOR                                      
* | 1 | ${programador}            |  |  ${date_hoy}  |  | 07:28:50 |    ${correo}  
* |___|______________________________________________________________________________________________________
*
* DESCRIPCION: ARCHIVO FRONT DE FUNCIONALIDAD EN CLIENTE DE LAS OPCIONES DE  ${modulo}
* EN EL FRONT END - (LISTADO, FILTRADO, VER, ENTRE OTROS)
*
* ARCHIVOS DE SERVICIOS   _________________________________________
* | # |     MODULO                             
* | 1 |     ${modulo}                   Get-Post-${modulo}        
* |________________________________________________________________
*
* VERSION: 0.1 Beta
************************************************************************************************************/


function  ${clase}()
 {

        this.a = [];

        ${clase}.prototype.cargarData = function (data)
        {

             this.a = data;
            ${patronCampos}
            //this.a.LA = [];
        }

}


var paObj${clase} = new Array();
var ist${clase} = "0";//contiene el datos del ${clase} que actualmente se esta editando o trabajando








function fn${clase}LLamaServicioGet()
{//------------------------------------- ini   fn${clase}LLamaServicioGet() -------------------------------------
  
            showLoading();
            guardarEnviar = 0;//indica la accion
            $("#idBtBuscar").html("Buscando.....")
            $("#idBtBuscar").attr("disabled",true);


             var par_select =  $('#par_select').val();    if(programa == null){programa = 0;}//programa}
             var par_input =  $('#par_input').val();  if(anio == null){anio = 0;}


             var par_fecha;

            par_fecha = $('#par_fecha').val();
          
            if($('#par_fecha').val() != "")
                {
                    if(($('#par_fecha').val() != '0001-01-01')){
                    par_fecha =  date1_DD_MM_AAAA_to_AAAA_MM_DD_T_HH_MM_S(par_fecha)}else{ par_fecha = "";}
                }
            else{ par_fecha = "";}


            var url = apiUrlssoma+"/api/Get-${clase}Web?code=GY7/yooa3Zl5sKu7zgakDbaCn4uvOKXjfwe/JkbSuIwDPOs/baiZFQ==&httpmethod=objectlist&par_select="+par_select+"&par_input="+par_input+"&par_fecha="+par_fecha;
            
            console.log("URL",url )
            var headers ={
                "apikey":constantes.apiKey
            }

            var settings = {
                "url": url,
                "method": "GET",
                "timeout": 0,
                "crossDomain": true,
                "dataType": "json",
                "headers": headers,
            };





            $.ajax(settings).done(function (response) {//***************************************************************************************************************************
                console.log("**todos**",response);
               
                mayorId = 0;
                         
                  if(response.${clase}.length > 0)
                    {



                          $('#bodyTablaSinAuditorias').css('display','none');// comentar momentaneamente activa en la logica anterior a incidentes

                          $('#pagination-container-EvalAud').pagination({
                              dataSource: response.${clase},
                              pageSize: 4,
                              callback: function(data, pagination) 
                                   {
                                       var html = fn${clase}RecibeGetListar(data);
                                       $('#body-tabla-list-EvalAud').html(html);

                                       $("#idBtBuscar").html("Buscar")
                                       $("#idBtBuscar").attr("disabled",false);

                                       //debemos colocar los campos con su valores de busqueda si existen
                                       $('#par_select').val(par_select);
                                       $('#par_input').val(par_input);
                                       $('#par_fecha').val(par_fecha);
                                      
                                    }
                                                                        }) 
                    }
               else
                   {
                      $('#body-tabla-list-EvalAud').html(" ");
                      $('#bodyTablaSinAuditorias').css('display','block');
                      $("#idBtBuscar").html("Buscar")
                      $("#idBtBuscar").attr("disabled",false);

                      //debemos colocar los campos con su valores de busqueda si existen
                      $('#par_select').val(par_select);
                      $('#par_input').val(par_input);
                      $('#par_fecha').val(par_fecha);
                      hideLoading();
                    }











                                                      });//************************************************************************************************************************

}//------------------------------------- ini   fn${clase}LLamaServicioGet() -------------------------------------




















function fn${clase}RecibeGetListar(data)
{//------------------------------------------------------- ini   fn${clase}RecibeGetListar(data) -----------------------------------



       data.forEach((Item)=>{
        //-----------------------------------------------------------------------------------------------------------data.forEach--
            console.log('Lista${clase}',Item);

            //implementacion del objeto, cundo se reciban los datos del SERVICIO
            paObj${clase}[Item.Id] = new  ${clase}();
            paObj${clase}[Item.Id].cargarData(Item);


             html += \`\ <div class='item-tabla p-2' style='z-index: 1;display:relative;' style='width: 1233px !important;'>
                                <div class='row m-0 justify-content-between align-items-center tbody_trainning'>
                                    <div class='col-12 text-center' style='font-size: 15px; padding: 4px !important; '>
                                        <div class='row'>
                                            <table style=' width:1314px !important;' border='0'>
                                                <tr>
                                                    <!-- listados de datos  -->
                                                    <td style=' width:834px !important;'>
                                                          <table style=' width:834px !important;' border='0'>
                                                             <tr>

                                                                 ${patronGet}

                                                              </tr>
                                                           </table>
                                                    </td>  
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                        </div>\`\;

        //-----------------------------------------------------------------------------------------------------------data.forEach--
                            });

     hideLoading(); //ocultamos al buscador
    //console.log(html);

return html;

}//------------------------------------------------------- fin   fn${clase}RecibeGetListar(data) -----------------------------------





















function  fn${clase}InsertarModificarGuardar() 
{//------------------------------------------------------- ini   fn${clase}RecibeGetListar(data) -----------------------------------
  
 $("#btnConfirma${clase}").attr("disabled",true);//boton de la ventana de confirmacion  
 $("#btnCancelar${clase}").attr("disabled",true);

 $("#btnConfirma${clase}").html('Guardando..');



     //solo despues de guardar
    

           ${patronPost}
     
      /*var body = {
                "Id1":  istLA,
                "AccionBD":3,// 0 insertar, 2 modificar,
                "IdTipoEvento_":IdTipoEvento_,
                "IdIncidente1":istAud,
                "IdSede":zede, 
                "Fecha": "2021-06-07",
                "FraseCorta":ffrase_c, 
                "Descripcion":descripp,
                "Codigo":"AAA-45454",
                "TipoDatoGeneral":TipoDatoGeneral,//pendiente aqui es donde debemos decir si es ambiental2, material3, personal1
                "Potencial":potenciall,   
                "TipoLesionDanio":lesionDannio,
                "Mortal":0,     
                "Create_By":"no editar",
                "Create_Date":"2021-07-04 15:15:18.270", 
                "B_Contaminante":contaminant,
                "B_Impacto_Ambiental":impactoa
               }*/

          var body = {
                "Id1":  ist${clase},
                "AccionBD":3,// 0 insertar, 2 modificar,
                 ${patronURL}
                     }//*Pendiente de quitar la coma


                console.log('enviando........:', body)

                var url = apiUrlssoma+ "/api/Post-${clase}?code=3SZLZvJm1g4qEdObbrPAWiDaiGa6EFKE9RFyIN1Q5osMz6ozxWX/xQ==&httpmethod=post";

                 console.log('urlr:', url)

                        var headers ={
                        "apikey":constantes.apiKey,
                        "Content-Type": "application/json",
                        }

                        $.ajax({
                            method: 'POST',
                            url:  url,
                            headers:headers,
                            data: JSON.stringify(body),
                            crossDomain: true,
                            dataType: "json",
                        }).done(function (data) {

                            console.log('despues modificar o insertar',data);
                            if(data.Id > 0)
                            {
                                
                                  hideLoading();
                                  
                                  $('#wConfirmaGuardar${clase}').modal('hide').removeClass('fade'); //cerramos el mensaje de confirmar orden de guardar
                                  $('#wAhoraSiConfirmaGuardar${clase}').modal('show').addClass('fade');

                                  $("#btnConfirma${clase}").attr("disabled",false);//btnConfirmarEvidencia btnConfirmarEvidencia  
                                  $("#btnConfirma${clase}").attr("disabled",false);
                                  $("#btnConfirma${clase}").html('Confirmar');

                            }

                            //fnEnviarInformeAuditoriaOk()

                        })
                        .fail(function( jqXHR, textStatus, errorThrown ) {
                               hideLoading();
                               verModalError('Al Modificar el ${clase}', 'Intente Nuevamente');
                               $("#btnConfirma${clase}").attr("disabled",true);
                               $("#btnConfirma${clase}").html('Modificar');
                        })
                        .always(function( jqXHR, textStatus, errorThrown ) {

                        });





}



    `;



     $('#txt_codigo_js').html(jsFile);
     $('#modalAlertaIncidente').modal('show').addClass('fade');
}


















function generarCodigos2()
{
   
   // kkl --;
   
clase = $('#txt_1').val();
modulo =  $('#txt_7').val().toUpperCase();
programador = $('#txt_5').val().toUpperCase();
correo = $('#txt_6').val();
var hoy = new Date();
var date_hoy = hoy.getDate()+'/'+(hoy.getMonth()+1)+'/'+hoy.getFullYear();

 $('#titleModalCodigo2').html('<h5 class="m-0">YANDY! 0.1  CODIGO (C#  .NET) GENERADO </h5>');

//alert('ObjClase = '+ObjClase.Atributo.length);

var patronCampos = "";
var patronGet = '';
var patronPost = '';
var patronURL = '';
var patronCShar = '';
var patronCShar2 = '';
var patronCShar3 = 'ILogger log, ';

ObjClase.Atributo.map(function(texto, Id) {

    //alert('texto ('+texto+') i ='+Id);

    patronCampos = patronCampos+' this.a.'+texto+';\n            ';
    patronGet    = patronGet+" <td width = '10%' align='center'><div id='cTabGeny' class='text-left lbCabezaTabla1'  >${Item."+texto+"!= null ? Item."+texto+": '---'}</div></td>\n            ";
    patronPost   = patronPost+' let '+texto+"= $('#'+'dat_"+texto+"').val();\n            ";
    patronURL    = patronURL+'"'+texto+'":'+texto+", \n            ";




            switch (ObjClase.TipoDatoCSHARP[Id]) 
            {
                case 'int':
                      patronCShar = patronCShar+ObjClase.TipoDatoCSHARP[Id]+' '+texto+'           = req.Query["'+texto+'"] == "" ? 0 : System.Convert.ToInt32(req.Query["'+texto+'"]);\n            ';
                      

                     
                         //Tipo Evento
                break;

                case 'long':
                    patronCShar = patronCShar+ObjClase.TipoDatoCSHARP[Id]+' '+texto+'           = req.Query["'+texto+'"] == "" ? 0 : System.Convert.ToInt64(req.Query["'+texto+'"]);\n            ';
                break;

                 case 'string':
                    patronCShar = patronCShar+ObjClase.TipoDatoCSHARP[Id]+' '+texto+'           = req.Query["'+texto+'"].ToString();\n            ';
                break;    
            }

            patronCShar2 =  patronCShar2 +','+texto+'\n            ';
            patronCShar3 =  patronCShar3 + ObjClase.TipoDatoCSHARP[Id]+' '+texto+', ';
                                           
//( ILogger log , long Id, long IdTipoEvento, long IdEmpresa, long IdSede, string FechaInicio, string FechaFin, long IdEmbarcacion)

   
});


   // ObjClase.Atributo[kkl] = axf;
   // ObjClase.TipoDatoCSHARP = b;
   // ObjClase.TipoDatoSQL = c;

jsFile =  `
  
/*************************************************************************************************************
* VISUAL SAT - [2021]
* PROYECTO : SALUD E HIGIENE OCUPACIONAL
* ESQUEMA : SHO
* SPRINT  : 3
* MODULO : ${modulo}
* OPERADORES_________________________________________________________________________________________________
* | # | PROGRAMADOR                                      
* | 1 | ${programador}            |  |  ${date_hoy}  |  | 07:28:50 |    ${correo}  
* |___|______________________________________________________________________________________________________
*
* DESCRIPCION:  ARCHIVO RUN BACKEND DE FUNCIONALIDAD EN SERVIDOR  LISTADO E INFORMACION --run 90  
* LOS ${modulo} DESDE LA WEB
*
* ARCHIVOS DE SERVICIOS   _________________________________________
* | # |     MODULO                             
* | 1 |     ${modulo}                   ${modulo}.html        
* |________________________________________________________________
*
* VERSION: 0.1 Beta
************************************************************************************************************/

#r "Newtonsoft.Json"
#load "sql.csx"


using System;
using System.Globalization;
using System.Net;
using System.Collections.Generic;
using System.Data.SqlClient;
using System.Threading.Tasks;
using System.Configuration;
using System.Collections;
using System.Text;
using Microsoft.AspNetCore.Mvc;
using Microsoft.Extensions.Primitives;
using Newtonsoft.Json;




public static async Task<IActionResult> Run(HttpRequest req, ILogger log)
{
    log.LogInformation("C# La función de activación HTTP procesó una solicitud.");

    var requestHeader           = req.Headers;
    var vvapikeysecure          = Environment.GetEnvironmentVariable("apikey",EnvironmentVariableTarget.Process);
    string vvapiKeyparameter    = requestHeader["apiKey"];
    string vvhttpmethod         = req.Query["httpmethod"];

    string jsonrspt = "";
    //Evaluar Clave API
    if(vvapikeysecure != vvapiKeyparameter )
    {
        vvhttpmethod    = "";
        jsonrspt        = "{}";
    }

    /*START - Parametros de Lectura*/
    ${patronCShar}

   // FechaInicio                = FechaInicio == "" ? "" : FechaInicio + " 00:00:00";//como actuar si llega fecha en blanco
   


    // Objetos a Utilizar
    DataPlanAnualGetAll vobj_sqldata = new DataPlanAnualGetAll();

    //Metodo:  listado de evaluacion de auditores
    if (vvhttpmethod == "objectlist")
    {
        DataPlanAnual curobj = new DataPlanAnual();
        long Id = 0;
        curobj = await vobj_sqldata.funGet${clase}AllList( log
                                                           ${patronCShar2}
                                                            );

        //Conversion de Respuestas a JSON
        jsonrspt = JsonConvert.SerializeObject(curobj, Formatting.Indented);
    }



    return jsonrspt != null
        ? (ActionResult)new OkObjectResult(jsonrspt)
        : new BadRequestObjectResult("Pase un nombre en la cadena de consulta o en el cuerpo de la solicitud");
}



    `;




jsFile2 =  `
  
/*************************************************************************************************************
* VISUAL SAT - [2021]
* PROYECTO : SALUD E HIGIENE OCUPACIONAL
* ESQUEMA : SHO
* SPRINT  : 3
* MODULO : ${modulo}
* OPERADORES_________________________________________________________________________________________________
* | # | PROGRAMADOR                                      
* | 1 | ${programador}            |  |  ${date_hoy}  |  | 07:28:50 |    ${correo}  
* |___|______________________________________________________________________________________________________
*
* DESCRIPCION:  ARCHIVO SQL BACKEND DE FUNCIONALIDAD EN SERVIDOR  LISTADO E INFORMACION  
* LOS ${modulo} DESDE LA WEB
*
* ARCHIVOS DE SERVICIOS   _________________________________________
* | # |     MODULO                             
* | 1 |     ${modulo}                   ${modulo}.html        
* |________________________________________________________________
*
* VERSION: 0.1 Beta
************************************************************************************************************/

using System;
using System.Net;
using System.Data;
using System.Data.SqlClient;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Dynamic;
using System.Linq;


class ${clase}GetAll //Accidente-Incidente
{
    string vvsqlconnectionString = Environment.GetEnvironmentVariable("SQLAZURECONNSTR_SqlAzureSsoma", EnvironmentVariableTarget.Process); //** ojo estar pendiente con este parametro, tiende a cambiar por proyecto


    public async Task<${clase}> funGet${clase}AllList(${patronCShar3})//recuerda quitar la ultima coma
    {
            //Lista de Objetos
            DataPlanAnual DataPlanAnual = new DataPlanAnual();//queda igual pero es Accidente Incidente

            //Listado de objetos de Plan Anual
            List<PlanAnualGet> lobjs  = new List<PlanAnualGet>();

            //Listado de objetos de Programas
            List<Programas> Programas  = new List<Programas>();//tantos como varias consultas existan

           
            //Objeto de PlanAnual
            PlanAnualGet curobj;

          



            log.LogInformation("en la funcion funGetPlanAnualAllList "+vvsqlconnectionString);
            //SQL Objects
            try
            {
                log.LogInformation("trying");
                using (SqlConnection conn = new SqlConnection(vvsqlconnectionString))
                    {
                        log.LogInformation("using 97");
                        conn.Open();
                        log.LogInformation("open 98");

                        SqlCommand cmd = new SqlCommand("[ssoma].[a_get_listado_incidente_web]", conn);//legue hasta aqui andy

                        log.LogInformation("SqlCommand 103 ");
                        cmd.Parameters.AddWithValue("@Id", Id);
                        cmd.Parameters.AddWithValue("@IdTipoEvento", IdTipoEvento);
                        cmd.Parameters.AddWithValue("@IdEmpresa", IdEmpresa);
                        cmd.Parameters.AddWithValue("@IdSede",IdSede);
                        cmd.Parameters.AddWithValue("@FechaInicio", FechaInicio);
                        cmd.Parameters.AddWithValue("@FechaFin", FechaFin);
                        cmd.Parameters.AddWithValue("@IdEmbarcacion", IdEmbarcacion);

                        cmd.CommandType = CommandType.StoredProcedure;
                        log.LogInformation("CommandType 113");
                        //Ejecutar Comando buscaremos los Planes Anuales registrados
                                 using (SqlDataReader dataReader = await cmd.ExecuteReaderAsync())
                                        {
                                                //Navegar en el Conjunto de Datos Recuperados
                                                while (dataReader.Read())
                                                {
                                                    curobj = new PlanAnualGet();

                                                    if (!dataReader.IsDBNull(dataReader.GetOrdinal("Id"))) { curobj.Id = (long)(dataReader.GetValue(dataReader.GetOrdinal("Id"))); } log.LogInformation("Id = "+curobj.Id); 
                                                    if (!dataReader.IsDBNull(dataReader.GetOrdinal("Code"))) { curobj.Code = (string)(dataReader.GetValue(dataReader.GetOrdinal("Code"))); }log.LogInformation("Code = "+curobj.Code);

                                                     lobjs.Add(curobj);
                                                }

                                                DataPlanAnual.PlanAnual = lobjs;
                                                log.LogInformation("DataPlanAnual.PlanAnual");



                                                //--------------------------------------------YA Programas -------------------
                                                dataReader.NextResult();

                                                while (dataReader.Read())
                                                {
                                                    Programas curobjP = new Programas();
                                                    if (!dataReader.IsDBNull(dataReader.GetOrdinal("Id"))) { curobjP.Id = (long)(dataReader.GetValue(dataReader.GetOrdinal("Id"))); }
                                                    if (!dataReader.IsDBNull(dataReader.GetOrdinal("Evento"))) { curobjP.Evento = (string)(dataReader.GetValue(dataReader.GetOrdinal("Evento"))); }
                                                    if (!dataReader.IsDBNull(dataReader.GetOrdinal("Code"))) { curobjP.Code = (string)(dataReader.GetValue(dataReader.GetOrdinal("Code"))); }
                                                    if (!dataReader.IsDBNull(dataReader.GetOrdinal("Grupo"))) { curobjP.Grupo = (int)(dataReader.GetValue(dataReader.GetOrdinal("Grupo"))); }


                                                    Programas.Add(curobjP);
                                                }
                                                DataPlanAnual.Programas = Programas;
                                                log.LogInformation("DataPlanAnual.Programas---TipoEvento");

                                                //--------------------------------------------YA Programas--TipoEvento -------------------

                                        }

                        if (conn.State == System.Data.ConnectionState.Open)
                        conn.Close();
                    }
            }
            catch (Exception ex)
            {
                lobjs  = new List<PlanAnualGet>();
                curobj = new PlanAnualGet();
                curobj.Id = 0;
                curobj.Code = System.Convert.ToString(ex.Message);//pendiente con esto
                lobjs.Add(curobj);
                DataPlanAnual.PlanAnual = lobjs;
            }

        return DataPlanAnual;
    }//fin de funcion





}//fin de clase  ${clase}       









































function  ${clase}()
 {

        this.a = [];

        ${clase}.prototype.cargarData = function (data)
        {

             this.a = data;
            ${patronCampos}
            //this.a.LA = [];
        }

}


var paObj${clase} = new Array();
var ist${clase} = "0";//contiene el datos del ${clase} que actualmente se esta editando o trabajando








function fn${clase}LLamaServicioGet()
{//------------------------------------- ini   fn${clase}LLamaServicioGet() -------------------------------------
  
            showLoading();
            guardarEnviar = 0;//indica la accion
            $("#idBtBuscar").html("Buscando.....")
            $("#idBtBuscar").attr("disabled",true);


             var par_select =  $('#par_select').val();    if(programa == null){programa = 0;}//programa}
             var par_input =  $('#par_input').val();  if(anio == null){anio = 0;}


             var par_fecha;

            par_fecha = $('#par_fecha').val();
          
            if($('#par_fecha').val() != "")
                {
                    if(($('#par_fecha').val() != '0001-01-01')){
                    par_fecha =  date1_DD_MM_AAAA_to_AAAA_MM_DD_T_HH_MM_S(par_fecha)}else{ par_fecha = "";}
                }
            else{ par_fecha = "";}


            var url = apiUrlssoma+"/api/Get-${clase}Web?code=GY7/yooa3Zl5sKu7zgakDbaCn4uvOKXjfwe/JkbSuIwDPOs/baiZFQ==&httpmethod=objectlist&par_select="+par_select+"&par_input="+par_input+"&par_fecha="+par_fecha;
            
            console.log("URL",url )
            var headers ={
                "apikey":constantes.apiKey
            }

            var settings = {
                "url": url,
                "method": "GET",
                "timeout": 0,
                "crossDomain": true,
                "dataType": "json",
                "headers": headers,
            };





            $.ajax(settings).done(function (response) {//***************************************************************************************************************************
                console.log("**todos**",response);
               
                mayorId = 0;
                         
                  if(response.${clase}.length > 0)
                    {



                          $('#bodyTablaSinAuditorias').css('display','none');// comentar momentaneamente activa en la logica anterior a incidentes

                          $('#pagination-container-EvalAud').pagination({
                              dataSource: response.${clase},
                              pageSize: 4,
                              callback: function(data, pagination) 
                                   {
                                       var html = fn${clase}RecibeGetListar(data);
                                       $('#body-tabla-list-EvalAud').html(html);

                                       $("#idBtBuscar").html("Buscar")
                                       $("#idBtBuscar").attr("disabled",false);

                                       //debemos colocar los campos con su valores de busqueda si existen
                                       $('#par_select').val(par_select);
                                       $('#par_input').val(par_input);
                                       $('#par_fecha').val(par_fecha);
                                      
                                    }
                                                                        }) 
                    }
               else
                   {
                      $('#body-tabla-list-EvalAud').html(" ");
                      $('#bodyTablaSinAuditorias').css('display','block');
                      $("#idBtBuscar").html("Buscar")
                      $("#idBtBuscar").attr("disabled",false);

                      //debemos colocar los campos con su valores de busqueda si existen
                      $('#par_select').val(par_select);
                      $('#par_input').val(par_input);
                      $('#par_fecha').val(par_fecha);
                      hideLoading();
                    }











                                                      });//************************************************************************************************************************

}//------------------------------------- ini   fn${clase}LLamaServicioGet() -------------------------------------




















function fn${clase}RecibeGetListar(data)
{//------------------------------------------------------- ini   fn${clase}RecibeGetListar(data) -----------------------------------



       data.forEach((Item)=>{
        //-----------------------------------------------------------------------------------------------------------data.forEach--
            console.log('Lista${clase}',Item);

            //implementacion del objeto, cundo se reciban los datos del SERVICIO
            paObj${clase}[Item.Id] = new  ${clase}();
            paObj${clase}[Item.Id].cargarData(Item);


             html += \`\ <div class='item-tabla p-2' style='z-index: 1;display:relative;' style='width: 1233px !important;'>
                                <div class='row m-0 justify-content-between align-items-center tbody_trainning'>
                                    <div class='col-12 text-center' style='font-size: 15px; padding: 4px !important; '>
                                        <div class='row'>
                                            <table style=' width:1314px !important;' border='0'>
                                                <tr>
                                                    <!-- listados de datos  -->
                                                    <td style=' width:834px !important;'>
                                                          <table style=' width:834px !important;' border='0'>
                                                             <tr>

                                                                 ${patronGet}

                                                              </tr>
                                                           </table>
                                                    </td>  
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                        </div>\`\;

        //-----------------------------------------------------------------------------------------------------------data.forEach--
                            });

     hideLoading(); //ocultamos al buscador
    //console.log(html);

return html;

}//------------------------------------------------------- fin   fn${clase}RecibeGetListar(data) -----------------------------------





















function  fn${clase}InsertarModificarGuardar() 
{//------------------------------------------------------- ini   fn${clase}RecibeGetListar(data) -----------------------------------
  
 $("#btnConfirma${clase}").attr("disabled",true);//boton de la ventana de confirmacion  
 $("#btnCancelar${clase}").attr("disabled",true);

 $("#btnConfirma${clase}").html('Guardando..');



     //solo despues de guardar
    

           ${patronPost}
     
      /*var body = {
                "Id1":  istLA,
                "AccionBD":3,// 0 insertar, 2 modificar,
                "IdTipoEvento_":IdTipoEvento_,
                "IdIncidente1":istAud,
                "IdSede":zede, 
                "Fecha": "2021-06-07",
                "FraseCorta":ffrase_c, 
                "Descripcion":descripp,
                "Codigo":"AAA-45454",
                "TipoDatoGeneral":TipoDatoGeneral,//pendiente aqui es donde debemos decir si es ambiental2, material3, personal1
                "Potencial":potenciall,   
                "TipoLesionDanio":lesionDannio,
                "Mortal":0,     
                "Create_By":"no editar",
                "Create_Date":"2021-07-04 15:15:18.270", 
                "B_Contaminante":contaminant,
                "B_Impacto_Ambiental":impactoa
               }*/

          var body = {
                "Id1":  ist${clase},
                "AccionBD":3,// 0 insertar, 2 modificar,
                 ${patronURL}
                     }//*Pendiente de quitar la coma


                console.log('enviando........:', body)

                var url = apiUrlssoma+ "/api/Post-${clase}?code=3SZLZvJm1g4qEdObbrPAWiDaiGa6EFKE9RFyIN1Q5osMz6ozxWX/xQ==&httpmethod=post";

                 console.log('urlr:', url)

                        var headers ={
                        "apikey":constantes.apiKey,
                        "Content-Type": "application/json",
                        }

                        $.ajax({
                            method: 'POST',
                            url:  url,
                            headers:headers,
                            data: JSON.stringify(body),
                            crossDomain: true,
                            dataType: "json",
                        }).done(function (data) {

                            console.log('despues modificar o insertar',data);
                            if(data.Id > 0)
                            {
                                
                                  hideLoading();
                                  
                                  $('#wConfirmaGuardar${clase}').modal('hide').removeClass('fade'); //cerramos el mensaje de confirmar orden de guardar
                                  $('#wAhoraSiConfirmaGuardar${clase}').modal('show').addClass('fade');

                                  $("#btnConfirma${clase}").attr("disabled",false);//btnConfirmarEvidencia btnConfirmarEvidencia  
                                  $("#btnConfirma${clase}").attr("disabled",false);
                                  $("#btnConfirma${clase}").html('Confirmar');

                            }

                            //fnEnviarInformeAuditoriaOk()

                        })
                        .fail(function( jqXHR, textStatus, errorThrown ) {
                               hideLoading();
                               verModalError('Al Modificar el ${clase}', 'Intente Nuevamente');
                               $("#btnConfirma${clase}").attr("disabled",true);
                               $("#btnConfirma${clase}").html('Modificar');
                        })
                        .always(function( jqXHR, textStatus, errorThrown ) {

                        });





}



    `;





      $('#txt_codigo_cshar').html(jsFile);
      $('#txt_codigo_cshar2').html(jsFile2);
     $('#modalAlertaIncidente2').modal('show').addClass('fade');
}


























































function generarCodigos3()
{
   
   // kkl --;
   
clase = $('#txt_1').val();
modulo =  $('#txt_7').val().toUpperCase();
programador = $('#txt_5').val().toUpperCase();
correo = $('#txt_6').val();
var hoy = new Date();
var date_hoy = hoy.getDate()+'/'+(hoy.getMonth()+1)+'/'+hoy.getFullYear();

 $('#titleModalCodigo3').html('<h5 class="m-0">YANDY! 0.1  CODIGO (SQL3  .SQL) GENERADO </h5>');

//alert('ObjClase = '+ObjClase.Atributo.length);

var patronCampos = "";
var patronGet = '';
var patronPost = '';
var patronURL = '';

ObjClase.Atributo.map(function(texto, Id) {

    //alert('texto ='+texto+'  Id ='+Id);

    patronCampos = patronCampos+' this.a.'+texto+';\n            ';
    patronGet    = patronGet+" <td width = '10%' align='center'><div id='cTabGeny' class='text-left lbCabezaTabla1'  >${Item."+texto+"!= null ? Item."+texto+": '---'}</div></td>\n            ";
    patronPost   = patronPost+' let '+texto+"= $('#'+'dat_"+texto+"').val();\n            ";
    patronURL    = patronURL+'"'+texto+'":'+texto+", \n            ";


   //  "IdTipoEvento_":IdTipoEvento_,
   
});

jsFile =  `
  
/*************************************************************************************************************
* VISUAL SAT - [2021]
* PROYECTO : SALUD E HIGIENE OCUPACIONAL
* ESQUEMA : SHO
* SPRINT  : 3
* MODULO : ${modulo}
* OPERADORES_________________________________________________________________________________________________
* | # | PROGRAMADOR                                      
* | 1 | ${programador}            |  |  ${date_hoy}  |  | 07:28:50 |    ${correo}  
* |___|______________________________________________________________________________________________________
*
* DESCRIPCION: ARCHIVO FRONT DE FUNCIONALIDAD EN CLIENTE DE LAS OPCIONES DE  ${modulo}
* EN EL FRONT END - (LISTADO, FILTRADO, VER, ENTRE OTROS)
*
* ARCHIVOS DE SERVICIOS   _________________________________________
* | # |     MODULO                             
* | 1 |     ${modulo}                   Get-Post-${modulo}        
* |________________________________________________________________
*
* VERSION: 0.1 Beta
************************************************************************************************************/




function  ${clase}()
 {

        this.a = [];

        ${clase}.prototype.cargarData = function (data)
        {

             this.a = data;
            ${patronCampos}
            //this.a.LA = [];
        }

}


var paObj${clase} = new Array();
var ist${clase} = "0";//contiene el datos del ${clase} que actualmente se esta editando o trabajando








function fn${clase}LLamaServicioGet()
{//------------------------------------- ini   fn${clase}LLamaServicioGet() -------------------------------------
  
            showLoading();
            guardarEnviar = 0;//indica la accion
            $("#idBtBuscar").html("Buscando.....")
            $("#idBtBuscar").attr("disabled",true);


             var par_select =  $('#par_select').val();    if(programa == null){programa = 0;}//programa}
             var par_input =  $('#par_input').val();  if(anio == null){anio = 0;}


             var par_fecha;

            par_fecha = $('#par_fecha').val();
          
            if($('#par_fecha').val() != "")
                {
                    if(($('#par_fecha').val() != '0001-01-01')){
                    par_fecha =  date1_DD_MM_AAAA_to_AAAA_MM_DD_T_HH_MM_S(par_fecha)}else{ par_fecha = "";}
                }
            else{ par_fecha = "";}


            var url = apiUrlssoma+"/api/Get-${clase}Web?code=GY7/yooa3Zl5sKu7zgakDbaCn4uvOKXjfwe/JkbSuIwDPOs/baiZFQ==&httpmethod=objectlist&par_select="+par_select+"&par_input="+par_input+"&par_fecha="+par_fecha;
            
            console.log("URL",url )
            var headers ={
                "apikey":constantes.apiKey
            }

            var settings = {
                "url": url,
                "method": "GET",
                "timeout": 0,
                "crossDomain": true,
                "dataType": "json",
                "headers": headers,
            };





            $.ajax(settings).done(function (response) {//***************************************************************************************************************************
                console.log("**todos**",response);
               
                mayorId = 0;
                         
                  if(response.${clase}.length > 0)
                    {



                          $('#bodyTablaSinAuditorias').css('display','none');// comentar momentaneamente activa en la logica anterior a incidentes

                          $('#pagination-container-EvalAud').pagination({
                              dataSource: response.${clase},
                              pageSize: 4,
                              callback: function(data, pagination) 
                                   {
                                       var html = fn${clase}RecibeGetListar(data);
                                       $('#body-tabla-list-EvalAud').html(html);

                                       $("#idBtBuscar").html("Buscar")
                                       $("#idBtBuscar").attr("disabled",false);

                                       //debemos colocar los campos con su valores de busqueda si existen
                                       $('#par_select').val(par_select);
                                       $('#par_input').val(par_input);
                                       $('#par_fecha').val(par_fecha);
                                      
                                    }
                                                                        }) 
                    }
               else
                   {
                      $('#body-tabla-list-EvalAud').html(" ");
                      $('#bodyTablaSinAuditorias').css('display','block');
                      $("#idBtBuscar").html("Buscar")
                      $("#idBtBuscar").attr("disabled",false);

                      //debemos colocar los campos con su valores de busqueda si existen
                      $('#par_select').val(par_select);
                      $('#par_input').val(par_input);
                      $('#par_fecha').val(par_fecha);
                      hideLoading();
                    }











                                                      });//************************************************************************************************************************

}//------------------------------------- ini   fn${clase}LLamaServicioGet() -------------------------------------




















function fn${clase}RecibeGetListar(data)
{//------------------------------------------------------- ini   fn${clase}RecibeGetListar(data) -----------------------------------



       data.forEach((Item)=>{
        //-----------------------------------------------------------------------------------------------------------data.forEach--
            console.log('Lista${clase}',Item);

            //implementacion del objeto, cundo se reciban los datos del SERVICIO
            paObj${clase}[Item.Id] = new  ${clase}();
            paObj${clase}[Item.Id].cargarData(Item);


             html += \`\ <div class='item-tabla p-2' style='z-index: 1;display:relative;' style='width: 1233px !important;'>
                                <div class='row m-0 justify-content-between align-items-center tbody_trainning'>
                                    <div class='col-12 text-center' style='font-size: 15px; padding: 4px !important; '>
                                        <div class='row'>
                                            <table style=' width:1314px !important;' border='0'>
                                                <tr>
                                                    <!-- listados de datos  -->
                                                    <td style=' width:834px !important;'>
                                                          <table style=' width:834px !important;' border='0'>
                                                             <tr>

                                                                 ${patronGet}

                                                              </tr>
                                                           </table>
                                                    </td>  
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                        </div>\`\;

        //-----------------------------------------------------------------------------------------------------------data.forEach--
                            });

     hideLoading(); //ocultamos al buscador
    //console.log(html);

return html;

}//------------------------------------------------------- fin   fn${clase}RecibeGetListar(data) -----------------------------------





















function  fn${clase}InsertarModificarGuardar() 
{//------------------------------------------------------- ini   fn${clase}RecibeGetListar(data) -----------------------------------
  
 $("#btnConfirma${clase}").attr("disabled",true);//boton de la ventana de confirmacion  
 $("#btnCancelar${clase}").attr("disabled",true);

 $("#btnConfirma${clase}").html('Guardando..');



     //solo despues de guardar
    

           ${patronPost}
     
      /*var body = {
                "Id1":  istLA,
                "AccionBD":3,// 0 insertar, 2 modificar,
                "IdTipoEvento_":IdTipoEvento_,
                "IdIncidente1":istAud,
                "IdSede":zede, 
                "Fecha": "2021-06-07",
                "FraseCorta":ffrase_c, 
                "Descripcion":descripp,
                "Codigo":"AAA-45454",
                "TipoDatoGeneral":TipoDatoGeneral,//pendiente aqui es donde debemos decir si es ambiental2, material3, personal1
                "Potencial":potenciall,   
                "TipoLesionDanio":lesionDannio,
                "Mortal":0,     
                "Create_By":"no editar",
                "Create_Date":"2021-07-04 15:15:18.270", 
                "B_Contaminante":contaminant,
                "B_Impacto_Ambiental":impactoa
               }*/

          var body = {
                "Id1":  ist${clase},
                "AccionBD":3,// 0 insertar, 2 modificar,
                 ${patronURL}
                     }//*Pendiente de quitar la coma


                console.log('enviando........:', body)

                var url = apiUrlssoma+ "/api/Post-${clase}?code=3SZLZvJm1g4qEdObbrPAWiDaiGa6EFKE9RFyIN1Q5osMz6ozxWX/xQ==&httpmethod=post";

                 console.log('urlr:', url)

                        var headers ={
                        "apikey":constantes.apiKey,
                        "Content-Type": "application/json",
                        }

                        $.ajax({
                            method: 'POST',
                            url:  url,
                            headers:headers,
                            data: JSON.stringify(body),
                            crossDomain: true,
                            dataType: "json",
                        }).done(function (data) {

                            console.log('despues modificar o insertar',data);
                            if(data.Id > 0)
                            {
                                
                                  hideLoading();
                                  
                                  $('#wConfirmaGuardar${clase}').modal('hide').removeClass('fade'); //cerramos el mensaje de confirmar orden de guardar
                                  $('#wAhoraSiConfirmaGuardar${clase}').modal('show').addClass('fade');

                                  $("#btnConfirma${clase}").attr("disabled",false);//btnConfirmarEvidencia btnConfirmarEvidencia  
                                  $("#btnConfirma${clase}").attr("disabled",false);
                                  $("#btnConfirma${clase}").html('Confirmar');

                            }

                            //fnEnviarInformeAuditoriaOk()

                        })
                        .fail(function( jqXHR, textStatus, errorThrown ) {
                               hideLoading();
                               verModalError('Al Modificar el ${clase}', 'Intente Nuevamente');
                               $("#btnConfirma${clase}").attr("disabled",true);
                               $("#btnConfirma${clase}").html('Modificar');
                        })
                        .always(function( jqXHR, textStatus, errorThrown ) {

                        });





}



    `;



      
      $('#txt_codigo_sql').html(jsFile);
      $('#txt_codigo_sql2').html(jsFile);
      $('#txt_codigo_sql3').html(jsFile);
     $('#modalAlertaIncidente3').modal('show').addClass('fade');
}








</script>

</html>