<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="description" content="">
	<title>Prueba buscador</title>
	<link rel="stylesheet" type="text/css" href="../../../../modules/bootstrap-4.4.1/dist/css/bootstrap-grid.min.css">
	<link rel="stylesheet" type="text/css" href="../../../../css/visitasa.css">
	<!-- Custom styles !-->
	<style type="text/css">
		*{
			box-sizing: border-box;
		}
		.container{
			padding-top: 5em;
		}
		h3{
			color: #254373;
		}
		.search label{
			display: block;
		}
		.search input{
			padding: 8px 12px;
			border: none;
			border-bottom: 1px solid;
			width: 100%;
		}
		.menu ul {
	    list-style: outside none none;
	    padding: 0;
	    width: 100%;
	    display: flex;
	    flex-wrap: wrap;
		}
		.menu ul li {
    	flex: 0 0 23%;
    	max-width: 23%;
			margin: 1.4em 0;
			padding: 0 6px;
			cursor: pointer;
			text-align: center;
		}
		.menu ul li figure{
			margin: 0;
			min-height: 120px;
			display: flex;
			flex-direction: column;
			align-items: center;
		}
		.menu ul li figure img{
			width: 50%;
			height: 60px;
			margin-bottom: .5em;
		}
		.menu ul li figure figcaption{
			width: 80%;
			margin-top: .8em;
		}
		.menu ul li figure figcaption:hover{
			color: #254373;
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="row mb-5">
			<div class="col-sm-12 col-md-8"><h3>Módulo de salud ocupacional</h3></div>
			<div class="col-sm-12 col-md-4">
				<div class="search">
					<label for="search">Buscar</label>
					<input type="text" name="search" id="search-input">
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-sm-12">
				<div class="menu">
					<ul>
						
					</ul>
				</div>
			</div>
		</div>
	</div>
</body>

	<script src="../../../../js/jquery-3.4.1.js" ></script>
	<script type="text/javascript">
		
		const menuOptions = [
			{ id:1, text: 'Historia Clínica Electrónica (HCE)'},
			{ id:2, text: 'Registro estadístico de EMO'},
			{ id:3, text: 'Auditoría para centros médicos'},
			{ id:4, text: 'Levantamiento de observaciones a centros médicos'},
			{ id:5, text: 'Registro de inspecciones de instalaciones'},
			{ id:6, text: 'Investigación de Enfermedades Ocupacionales'},
		]

		const renderMenu = (items) => {
			const list = $('.menu ul')
			$('.menu ul').html('')

			items.map((item) => {
				list.append(`
					<li>
						<figure>
							<img alt="icon" src="./hospital.svg"></img>
							<figcaption>${item.text}</figcaption>
						</figure>
					</li>`)
			})	
		}

		$(document).ready(() => {

			renderMenu(menuOptions)

			$('#search-input').keyup( e => {
				const searchText = e.target.value
				console.log(searchText)
				if(searchText.trim().length > 0){
					const options = menuOptions.filter( opt => opt.text.toLowerCase().indexOf(searchText)!== -1 )
					renderMenu(options)
				}else{
					renderMenu(menuOptions)
				}
			})
		});

	</script>
</html>